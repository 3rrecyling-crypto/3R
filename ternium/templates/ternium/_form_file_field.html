{% comment %}
This template snippet renders a single file field.
It expects a 'field' object in its context.
{% endcomment %}

<div class="mb-3">
    <label for="{{ field.id_for_label }}" class="form-label fw-bold">{{ field.label }}</label>
    
    {% comment %} Check if the form is bound to an existing object and if that object has a file for this field. {% endcomment %}
    {% if field.form.instance.pk and field.value %}
        <div class="mb-2 small">
            <span class="text-muted">Archivo actual: </span>
            <a href="{{ field.value.url }}" target="_blank">
                <i class="fas fa-external-link-alt"></i> 
                {{ field.value.name|truncatechars:30 }}
            </a>
        </div>
    {% endif %}

    {{ field }}
    
    <div class="text-muted small mt-1">{{ field.help_text }}</div>
    
    {% if field.errors %}
        <div class="text-danger small mt-1">
            {% for error in field.errors %}
                {{ error }}
            {% endfor %}
        </div>
    {% endif %}
</div>